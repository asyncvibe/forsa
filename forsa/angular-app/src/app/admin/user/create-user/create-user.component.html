<section class="content">
  <div class="row">
    <!-- left column -->
    <div class="col-md-6">
      <!-- general form elements -->
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">Create New User</h3>
        </div>

        <form role="form" [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <div class="box-body">
            <div class="form-group">
              <label for="exampleInputPassword1">Name</label>
              <input type="text" class="form-control" placeholder="Enter Name" formControlName="name" required>
              <div *ngIf="f.name.invalid && (f.name.dirty || f.name.touched)" class="alert alert-danger">

                <div *ngIf="f.name.errors.required">
                  Name is required.
                </div>
                <div *ngIf="f.name.errors.minlength">
                  Name must be at least 4 characters long.
                </div>
              </div>
            </div>
            <div class="form-group">
              <label>Email address</label>
              <input type="email" class="form-control" placeholder="Enter email" formControlName="email" required>
              <div *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)" class="alert alert-danger">
                <div *ngIf="f.email.errors.required">
                  Email is required.
                </div>
                <div *ngIf="f.email.errors.email">
                  Please enter a valid email.
                </div>
              </div>
            </div>
            <div formGroupName="passwordGroup">
              <div class="form-group">
                <label>Password</label>
                <input type="password" class="form-control" placeholder="Enter Password" formControlName="password"
                  required>
                <div *ngIf="((profileForm.get('passwordGroup.password').touched ||
                profileForm.get('passwordGroup.password').dirty) && !profileForm.get('passwordGroup.password').valid )"
                  class="alert alert-danger">

                  <div *ngIf="profileForm.get('passwordGroup.password').errors?.required">
                    Password is required.
                  </div>
                  <!-- <div *ngIf="f.password.errors.pattern">
                    password should be the mixture of uppercase, lowercase and special charecters
                  </div> -->
                  <div *ngIf="profileForm.get('passwordGroup.password').errors?.minlength">
                    Password should be atleast 8 characters long
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" class="form-control" placeholder="Enter Confirm Password" formControlName="confirmPassword"
                  required>
                <div *ngIf="profileForm.get('passwordGroup').errors || ((profileForm.get('passwordGroup.confirmPassword').touched ||
                  profileForm.get('passwordGroup.confirmPassword').dirty) && !profileForm.get('passwordGroup.confirmPassword').valid )"
                  class="alert alert-danger">

                  <div *ngIf="profileForm.get('passwordGroup.confirmPassword').errors?.required">
                    Confirm password is required.
                  </div>
                  <!-- <div *ngIf="f.password.errors.pattern">
                    password should be the mixture of uppercase, lowercase and special charecters
                  </div> -->
                  <!-- <div *ngIf="profileForm.get('passwordGroup.confirmPassword').errors?.minlength">
                    Confirm password should be atleast 8 characters long
                  </div> -->
                  <span *ngIf="profileForm.get('passwordGroup').errors?.match"> 
                    password does not match
                  </span> 
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="exampleInputPassword1">Mobile</label>
              <input type="number" class="form-control" min="1" placeholder="Enter Mobile" formControlName="mobile" required>
              <div *ngIf="f.mobile.invalid && (f.mobile.dirty || f.mobile.touched)" class="alert alert-danger">
                <div *ngIf="f.mobile.errors.required">
                  Mobile Number is required.
                </div>
                <div *ngIf="f.mobile.errors.pattern">
                  Please enter the valid phone number.
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Address</label>
              <input type="text" class="form-control" placeholder="Enter Address" formControlName="address" required>
              <div *ngIf="f.address.invalid && (f.address.dirty || f.address.touched)" class="alert alert-danger">

                <div *ngIf="f.address.errors.required">
                  Address is required.
                </div>
                <!-- <div *ngIf="f.address.errors.minlength">
                  Address must be at least 4 characters long.
                </div> -->
              </div>
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Description</label>
              <input type="text" class="form-control" placeholder="Enter Description" formControlName="description" required>
              <div *ngIf="f.description.invalid && (f.description.dirty || f.description.touched)" class="alert alert-danger">

                <div *ngIf="f.description.errors.required">
                  Description is required.
                </div>
                <!-- <div *ngIf="f.address.errors.minlength">
                  Address must be at least 4 characters long.
                </div> -->
              </div>
            </div>
            <div class="form-group">
              <label>Select Role</label>
              <select class="form-control" formControlName="role" required>
                <option>Please Select Role</option>
                <!-- <option>Customer</option> -->
                <option>Landlord</option>
                <option>Broker</option>
              </select>
              <div *ngIf="f.role.invalid && (f.role.dirty || f.role.touched)" class="alert alert-danger">
                <div *ngIf="f.role.errors.required">
                  Role for this ad is required.
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="exampleInputFile">Choose Image</label>
              <input type="file" id="exampleInputFile" (change)="uploadImage($event)" formControlName="image">
              <div *ngIf="f.image.invalid && (f.image.dirty || f.image.touched)" class="alert alert-danger">
                <div *ngIf="f.image.errors.required">
                  Please Choose an Image.
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="exampleInputFile">Choose Company Image</label>
              <input type="file" id="exampleInputFile" (change)="uploadImageCompany($event)" formControlName="imageCompany">
              <div *ngIf="f.imageCompany.invalid && (f.imageCompany.dirty || f.imageCompany.touched)" class="alert alert-danger">
                <div *ngIf="f.imageCompany.errors.required">
                  Please Choose an Image.
                </div>
              </div>
            </div>

          </div>


          <div class="box-footer">
            <button type="submit" class="btn btn-primary" [disabled]="!profileForm.valid">Submit</button>
          </div>
        </form>
      </div>


    </div>

  </div>

</section>